<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Le Loup et les 7 Chevreaux â€“ Conte interactif</title>
    <link rel="stylesheet" href="style.css">
    <!-- Ajout de Vue.js via CDN -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body>
    <div id="app">
        <div id="book-container" v-if="isLoaded">
        <div class="text-bg-fixed"></div>
            <!-- Barre de progression -->
            <div id="progress-bar">
                <div id="progress" :style="{ width: progressWidth + '%' }"></div>
            </div>

            <!-- ScÃ¨ne -->
            <div class="scene">
                <transition name="page">
                    <img 
                        :src="currentScene.img" 
                        :alt="'ScÃ¨ne ' + (currentIndex + 1)" 
                        :key="currentIndex"
                    >
                </transition>
                <div class="text-box">
                    <p :key="currentIndex">{{ displayedText }}</p>
                </div>
            </div>

            <!-- Musique -->
            <audio ref="bgMusic" src="assets/audio/intro.mp3" loop></audio>
            <button class="music-btn" @click="toggleMusic">
                {{ isPlaying ? 'ðŸ”ˆ Stop' : 'ðŸ”Š Musique' }}
            </button>
        </div>
        <div v-else class="loading">
            Chargement du conte...
        </div>

        <!-- Boutons de navigation fixes sur l'Ã©cran -->
        <button class="nav nav-left" @click="previousScene" :disabled="currentIndex === 0">â—€</button>
        <button class="nav nav-right" @click="nextScene" :disabled="currentIndex === scenes.length - 1">â–¶</button>

    </div>

    <script type="module">
        import { app } from './app.js'
        const { createApp } = Vue
        createApp(app).mount('#app')
    </script>
</body>
</html>
